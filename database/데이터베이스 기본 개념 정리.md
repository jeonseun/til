# 데이터베이스 기본 개념 정리

데이터베이스란 무엇이며 데이터베이스 관련 시스템의 구성과 그 목적에 대한 정리

## TOC

- [데이터](#데이터)
  - [데이터 분류](#데이터-분류)
  - [정보 처리](#정보-처리)
- [데이터베이스](#데이터베이스)
  - [데이터베이스 정의](#데이터베이스-정의)
  - [데이터베이스 특징](#데이터베이스-특징)
- [데이터베이스 관리 시스템](#데이터베이스-관리-시스템)
  - [파일 시스템 문제점](#파일-시스템-문제점)
  - [데이터베이스 관리 시스템 정의](#데이터베이스-관리-시스템-정의)
  - [데이터베이스 관리 시스템 장단점](#데이터베이스-관리-시스템-장단점)
  - [데이터베이스 관리 시스템 발전과정](#데이터베이스-관리-시스템-발전과정)
- [데이터베이스 시스템](#데이터베이스-시스템)
  - [데이터베이스 구조](#데이터베이스-구조)
    - [3단계 데이터베이스 구조](#3단계-데이터베이스-구조)
    - [데이터 독립성](#데이터-독립성)
    - [데이터 사전](#데이터-사전)
  - [데이터베이스 사용자](#데이터베이스-사용자)
  - [데이터 언어](#데이터-언어)
    - [데이터 정의어](#데이터-정의어)
    - [데이터 조작어](#데이터-조작어)
    - [데이터 제어어](#데이터-제어어)
  - [데이터베이스 관리 시스템 구성](#데이터베이스-관리-시스템-구성)

<br>

## 데이터

데이터(data)는 현실 세계에서 관찰, 측정하여 수집한 사실이나 값을 말한다. 데이터를 가공해서 의사 결정에 유용하도록 만든 것을 정보(information)라고 한다.

### 데이터 분류

데이터는 형태, 특성에 따라 구분할 수 있다.

형태에 따른 데이터 분류

- 정형 데이터(structured data) → 구조가 미리 정해진 데이터, 구조에 대한 설명과 데이터 내용은 별도로 유지됨 (excel, RDBMS table 등)
- 반정형 데이터(semi-structured data) → 데이터 내용안에 구조에 대한 설명이 포함되는 데이터, 구조를 파싱하는 과정이 필요함 (html, xml, json 등)
- 비정형 데이터(unstructured data) → 정해진 구조 없이 저장된 데이터 (sns에서 생성된 데이터, 영상, 이미지, 음성 등)

특성에 따른 데이터 분류

- 범주형 데이터(categorical data) → 범주로 구분할 수 있는 데이터 (정성적 데이터)
  - 명목형 데이터(nominal data) → 서열이 없는 값 (성별, mbti 등)
  - 순서형 데이터(ordinal data) → 서열이 있는 값 (학년, 학점, 회원 등급 등)
- 수치형 데이터(numerical data) → 크기 비교와 산술 연산이 가능한 숫자 데이터 (정량적 데이터)
  - 이산형 데이터(discrete data) → 개수를 셀수 있는 숫자 값 (정수형)
  - 연속형 데이터(continuous data) → 연속적으로 이어진 숫자 값 (실수형)

### 정보 처리

정보 처리는 데이터에서 정보를 추출하는 과정 또는 방법을 말한다. 가치 있는 정보 획득을 위해서는 의미있는 데이터를 많이 수집해야 한다.

정보 처리를 통해 정보를 만들어내는 시스템을 정보 시스템이라 하며 정보 시스템 내에서 데이터를 저장하여 필요할 때 제공하는 역할은 데이터베이스가 담당한다.

<br>

## 데이터베이스

데이터베이스(database)는 특정 조직의 여러 사용자가 <ins>공유</ins>하여 사용할 수 있도록 <ins>통합</ins>하여 <ins>저장</ins>한 <ins>운영</ins>데이터의 집합을 의미한다.

### 데이터베이스 정의

데이터베이스 핵심 개념

- 공유 데이터(shared data) → 여러 사용자가 소유하고 이용할 수 있도록 목적이 서로 다른 사용자를 고려
- 통합 데이터(integrated data) → 데이터 중복을 최소화하고 통제 가능한 중복만 허용
- 저장 데이터(stored data) → 컴퓨터가 접근할 수 있는 매체에 데이터 저장
- 운영 데이터(operational data) → 데이터를 지속적으로 유지

### 데이터베이스 특징

데이터베이스의 주요한 4가지 특징

- 실시간 접근(real-time accessibility) → 사용자의 데이터 요구에 실시간으로 응답
- 계속 변화(continuous evolution) → 데이터베이스에 저장된 데이터는 계속해서 변함
- 동시 공유(concurrent sharing) → 여러 사용자가 다른 데이터 또는 같은 데이터를 동시에 사용하는 것을 모두 지원
- 내용 참조(content reference) → 저장된 주소나 위치가 아닌 데이터의 내용(값)으로 참조 가능

<br>

## 데이터베이스 관리 시스템

데이터베이스 관리 시스템(DBMS, database management system)은 파일 시스템의 데이터 중복과 데이터 종속 문제 해결을 위한 소프트웨어다.

### 파일 시스템 문제점

파일 시스템(file system)은 데이터를 파일로 관리할 수 있도록 파일의 생성, 삭제, 수정, 검색 기능을 제공하는데 다음과 같은 문제점이 있다.

- 데이터 중복 → 같은 데이터가 여러 파일에 중복저장 됨, 저장 공간 낭비과 데이터 일관성(data consistency), 데이터 무결성(data integrity) 유지가 어려움
- 데이터 종속 → 파일이 데이터를 구성하는 방법과 물리적인 저장구조에 맞게 응용 프로그램이 작성되어야 함
- 동시 공유, 보안, 회복 기능 부족 → 동시 공유 기능이 없으며 상세한 권한 설정이 불가능, 장애 발생 시 데이터를 일관된 상태로 회복하기 어려움
- 응용 프로그램 개발이 어려움 → 파일 접근과 데이터 처리를 응용 프로그램이 모두 처리해야 하므로 응용 프로그램 개발이 어려움

### 데이터베이스 관리 시스템 정의

데이터베이스 관리 시스템의 주된 역할

- 데이터 통합 저장 → 데이터를 데이터베이스에 통합해서 저장
- 데이터 관리 → 응용 프로그램 대신 데이터의 삽입, 삭제, 수정, 검색 처리
- 데이터 공유 → 모든 응용 프로그램이 데이터베이스를 공유할 수 있게 함

데이터베이스 관리 시스템이 제공하는 기능

- 정의 기능 → 데이터베이스 구조를 정의하거나 이미 정의된 구조를 수정하는 기능
- 조작 기능 → 데이터를 삽입, 삭제, 수정, 검색하는 연산
- 제어 기능 → 데이터의 삽입, 삭제, 수정 이후에도 일관성과 무결성 유지, 데이터의 접근 권한 관리, 데이터 동시 공유

### 데이터베이스 관리 시스템 장단점

데이터베이스 관리 시스템의 장점

- 데이터 중복 통제 → 데이터베이스에 데이터를 통합 관리하여 중복 문제 해결, 중복 허용시 중복을 최소화하도록 통제하여 데이터 일관성 유지
- 데이터 독립성 확보 → 데이터베이스 구조 변경 시에도 응용 프로그램에 영향이 없음
- 데이터 동시 공유 → 여러 응용 프로그램이 공유하여 같은 데이터에 동시 접근을 지원, 동시 공유로 불필요한 데이터 중복 제한
- 데이터 보안 향상 → 권한에 따른 사용자 접근 통제, 데이터와 연산에 대한 요청을 사전에 차단 가능
- 데이터 무결성 유지 → 데이터에 연산 수행마다 유효성 검사를 통해 데이터 무결성 유지
- 표준화 → 데이터 접근 방법, 데이터 형식, 구조등을 표준화하기 쉬움
- 장애 발생 시 회복 → 장애 발생 시 데이터 일관성, 무결성을 유지하면서 장애 발생 이전으로 복구하는 기능 지원
- 응용 프로그램 개발 비용 감소 → 데이터 관리를 데이터베이스 관리 시스템이 담당, 데이터베이스 구조 변경 시에도 응용 프로그램에 영향 없음

데이터베이스 관리 시스템의 단점

- 큰 비용 → 파일 시스템과 달리 별도의 설치와 구매 비용 발생, 컴퓨터 자원도 많이 사용
- 백업, 회복 방법의 복잡함 → 장애에 대한 원인, 상태 파악은 어려운 작업 따라서 회복하는 방법 자체가 복잡함
- 중앙 집중 관리로 인한 취약점 → 데이터베이스, 데이터베이스 관리 시스템에 장애 발생 시 전체 시스템이 영향을 받음

### 데이터베이스 관리 시스템 발전과정

1세대

- 네트워크 DBMS → 데이터베이스를 노드와 간선을 이용한 그래프 형태로 구성, 구조가 복잡하고 변경이 어려움 (IDS 등)
- 계층 DBMS → 데이터베이스를 트리 형태로 구성, 복잡한 현실 세계를 트리 형태로 표현하기 힘들고 구조 변경이 어려움 (IMS 등)

2세대

- 관계 DBMS → 데이터베이스를 테이블 형태로 구성 (Oracle, MS SQL, Access, Informix, MySQL, MaridDB 등)

3세대

- 객체지향 DBMS → 데이터베이스를 객체 개념으로 구성 (O2, ONTOS, GemStone 등)
- 객체관계 DBMS → 데이터베이스를 관계 데이터 모델에 객체지향 개념을 도입한 객체관계 데이터 모델로 구성 (Oracle 등)

4세대 이후

- NoSQL DBMS → 비정형 데이터 처리에 적합, 안정성과 일관성 유지를 위한 복잡한 기능을 포기, 데이터의 분산 저장과 처리 환경에 주로 사용됨 (MongoDB, HBase, Cassandra, Redis, Neo4j, OrientDB 등)
- NewSQL DBMS → 관계 DBMS의 장점과 NoSQL의 확장성 및 유연성을 모두 지원하여 정형, 비정형 데이터를 안정적이고 빠르게 처리할 수 있음 (Spanner, VoltDB, NuoDB 등)

<br>

## 데이터베이스 시스템

데이터베이스 시스템은 데이터베이스와 데이터베이스 관리 시스템을 이용해 필요한 정보를 제공하는 전체 시스템을 말한다. 데이터베이스 시스템의 구성요소는 다음과 같다.

- 데이터베이스 → 저장된 데이터 집합
- 데이터베이스 관리 시스템 → 데이터베이스의 데이터를 일관되고 무결하게 유지 관리
- 사용자 → 시스템의 사용자
- 데이터 언어 → 사용자가 데이터베이스에 접근할 때 사용하는 언어
- 컴퓨터 → 데이터베이스, 데이터베이스 관리 시스템이 설치되고 처리 연산을 담당

### 데이터베이스 구조

데이터베이스 구조와 관련된 두 개념인 스키마(schema)와 인스턴스(instance)

- 스키마 → 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것, 한번 정의되면 자주 변경되지 않음
- 인스턴스 → 스키마에 따라 데이터베이스에 실제로 저장된 값, 계속해서 변화함

#### 3단계 데이터베이스 구조

데이터베이스의 복잡한 내부 구조를 감추고 일반 사용자가 데이터베이스를 쉽게 이해하고 이용할 수 있도록 하는 구조로 관점에 따라 3단계로 구분된다.

- 외부 단계(external level)
  - 개별 사용자 관점에서의 데이터베이스
  - 각 사용자에게 필요한 데이터베이스의 모습을 표현한 논리 구조, 사용자마다 다름
  - 여러개가 존재할 수 있고 사용 목적이 같은 사용자에 의해 공유될 수 있음
  - 외부 스키마(external schema)또는 서브 스키마(sub schema)라고도 함
- 개념 단계(conceptual level)
  - 조직 전체 관점에서의 데이터베이스
  - 모든 사용자에게 필요한 데이터를 통합하여 전체 데이터베이스의 논리적 구조를 정의
  - 저장되는 데이터, 데이터 간 관계, 제약조건, 보안 정책이나 접근 권한과 같은 내용도 포함
  - 하나의 데이터베이스에 하나만 존재
  - 개념 스키마(conceptual schema)라고도 함
- 내부 단계(internal level)
  - 저장 장치 관점에서의 데이터베이스
  - 데이터베이스가 저장 장치에 실제로 저장되는 방법을 정의
  - 파일에 데이터를 저장하는 레코드의 구조, 레코드를 구성하는 필드 크기, 인덱스를 이용한 레코드 접근 경로 등을 정의
  - 하나의 데이터베이스에 하나만 존재
  - 내부 스키마(internal schema)라고도 함

#### 데이터 독립성

3단계 데이터베이스 구조에서 스키마 간의 대응 관계를 사상(mapping)이라 하며 외부 스키마와 개념 스키마의 사상을 외부/개념 사상, 개념 스키마와 내부 스키마의 사상을 개념/내부 사상이라 한다. 단계별 스키마 구성과 스키마 간 대응 관계를 정의하는 목적은 데이터 독립성(data independency)을 실현하기 위해서다. 데이터 독립성은 하위 스키마의 변경에 상위 스키마가 영향을 받지 않는 특성을 말하며 논리적 데이터 독립성과 물리적 데이터 독립성이 있다.

- 논리적 데이터 독립성
  - 개념 스키마가 변경되어도 외부 스키마가 영향을 받지 않는 것
  - 논리적 구조 변경 시 외부/개념 사상 정보만 수정하면 외부 스키마에 영향이 없음
  - 외부 스키마 사용자가 전체 데이터베이스의 논리적 구조 변경을 알 필요가 없음을 의미
  - 응용 인터페이스(application interface)라고도 함
- 물리적 데이터 독립성
  - 내부 스키마가 변경되어도 개념 스키마가 영향을 받지 않는 것
  - 데이터베이스의 저장 구조가 변경되어도 관련된 개념/내부 사상 정보만 수정하면 개념 스키마(데이터베이스 논리적 구조)에 영향이 없음
  - 저장 인터페이스(storage interface)라고도 함

#### 데이터 사전

스키마와 사상 정보 처럼 저장된 데이터를 올바르게 이용하기 위한 부가 정보를 저장하는 곳을 데이터 사전(data dictionary)라고 한다.

- 스키마, 사상 정보, 제약조건 등을 저장
- 데이터베이스에 저장되는 데이터에 관한 정보이므로 메타 데이터(meta data)라고도 함
- 데이터 사전도 데이터를 저장하므로 데이터베이스이며 시스템 데이터베이스(system database)라고도 함
- 데이터베이스 관리 시스템과 일반 사용자 모두 접근할 수 있으나 데이터베이스 관리 시스템만 데이터 사전의 데이터를 조작할 수 있음
- 데이터 사전에 있는 데이터에 접근하는 위치는 데이터 디렉토리(data directory)에서 관리함
- 데이터 디렉토리는 데이터베이스 관리 시스템만 접근할 수 있음

### 데이터베이스 사용자

데이터베이스를 이용하는 모든 사람을 의미하며 이용 목적에 따라 구분된다.

- 데이터베이스 관리자(database administrator, dba)
  - 데이터베이스 시스템을 운영, 관리함
  - 데이터베이스 설계 및 구축, 서비스를 위한 제어를 담당
  - 주요 업무로 데이터베이스 구성 요소 선정, 데이터베이스 스키마 정의, 물리적 저장 구조와 접근 방법 결정, 무결서 유지를 위한 제약조건 정의, 보안 및 접근 권한 정책 결정, 백업 및 회복 기법 정의, 시스템 데이터베이스 관리, 시스템 모니터링, 데이터베이스 재구성 등이 있음
- 최종 사용자(end user)
  - 데이터 조작(삽입, 삭제, 수정, 검색)을 위해 데이터베이스 접근
  - 데이터 조작어를 통해 사용하는 최종 사용자를 캐주얼 사용자로 구분
  - GUI 툴을 이용해 사용하는 최종 사용자를 초보 사용자로 구분
- 응용 프로그래머(application programmer)
  - C, Java 등의 프로그래밍 언어로 응용 프로그램 작성 시 프로그램 내에 데이터 조작어를 넣는 사용자

### 데이터 언어

데이터 언어(data language)는 데이터베이스 구축과 접근을 위해 사용자가 데이터베이스 관리 시스템과 소통하는 수단이다.

사용 목적에 따라 3가지로 구분된다.

- 데이터 정의어(DDL, data definition language)
- 데이터 조작어(DML, data manipulation language)
- 데이터 제어어(DCL, data control language)

#### 데이터 정의어

- 새로운 데이터베이스 구축을 위해 스키마를 정의, 수정, 삭제 하는 데이터 언어
- 데이터 정의어로 정의된 스키마는 데이터 사전에 저장됨
- 데이터 사전에 저장된 스키마 정보는 사용자, 데이터베이스 관리 시스템이 필요할 때 참고 가능

#### 데이터 조작어

- 사용자가 데이터의 삽입, 삭제, 수정, 검색 등의 처리를 데이터베이스 관리 시스템에 요구하기 위해 사용하는 데이터 언어
- 실제 데이터 값 조작을 위해 사용함
- 절차적 데이터 조작어와 비절차적 데이터 조작어로 구분
  - 절차적 데이터 조작어(procedural DML) → 원하는 데이터와 처리하는 방법까지 구체적으로 명시
  - 비절차적 데이터 조작어(nonprocedural DML) → 원하는 데이터만 명시, 처리하는 방식은 데이터베이스 관리 시스템이 결정, 선언적 언어(declarative language)라고도 함

#### 데이터 제어어

- 데이터베이스에 저장된 데이터를 여러 사용자가 무결성, 일관성을 유지하며 공유할 수 있도록 필요한 규칙과 기법을 정의하는 데이터 언어
- 데이터 제어어를 이용해 보장하려는 특징
  - 무결성(integrity) → 데이터베이스에 정확하고 유효한 데이터만 유지
  - 보안(security) → 권한이 없는 사용자의 접근 차단, 권한이 있는 데이터에만 접근할 수 있도록 설정
  - 회복(recovery) → 장애 발생시에도 데이터 일관성 유지
  - 동시성(concurrency) → 여러 사용자가 같은 데이터에 동시 접근 처리를 허용

### 데이터베이스 관리 시스템 구성

데이터베이스 시스템 내에서 데이터베이스의 관리와 사용자의 데이터 처리 요구를 수행하며 사용자와 데이터베이스 사이에 위치한다. 질의 처리기와 저장 데이터 관리자로 구성된다.

질의 처리기(query processor)는 사용자의 데이터 처리 요구를 해석하여 처리하는 역할을 하며 다음 요소로 구성된다.

- DDL 컴파일러(DDL compiler) → 데이터 정의어로 작성된 스키마 정의를 해석하고 저장 데이터 관리자를 통해 스키마 정의를 데이터 사전에 저장
- DML 프리 컴파일러(DML precompiler) → 응용 프로그램 내 삽입된 데이터 조작어를 추출하여 DML 컴파일러에 전달
- DML 컴파일러(DML compiler) → 데이터 조작어로 작성된 데이터 처리 요구를 분석하여 런타임 데이터베이스 처리기가 이해할 수 있도록 해석
- 런타임 데이터베이스 처리기(run-time database processor) → DML 컴파일러로부터 받은 데이터 처리 요구를 데이터베이스에서 실제 실행
- 트랜잭션 관리자(transaction manager) → 접근 권한의 유효성 검사와 제약조건 위반 여부를 확인함, 회복이나 동시 수행과 관련된 작업도 담당

저장 데이터 관리자(stored data manager)는 디스크에 저장된 데이터베이스와 데이터 사전을 관리하고 실제로 저장 장치에 접근하는 역할을 담당

<br>

## references

- [데이터베이스 개론 3판 #ch1 ~ ch3 - 김연희, 한빛출판네트워크](https://www.hanbit.co.kr/store/books/look.php?p_code=B6505632990)
